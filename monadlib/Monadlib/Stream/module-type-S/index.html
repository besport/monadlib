<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>S (monadlib.Monadlib.Stream.S)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">monadlib</a> &#x00BB; <a href="../../index.html">Monadlib</a> &#x00BB; <a href="../index.html">Stream</a> &#x00BB; S</nav><header class="odoc-preamble"><h1>Module type <code><span>Stream.S</span></code></h1><p>Streams supporting fair and unbounded search.</p><p>Spivey has a nice and authoratitive paper on this, understanding streams as a breadth-first search. If that description appeals to you, I recommend his paper. Personally, I found it helpful to understand streams a bit differently, as concurrent processes that go off and discover data.</p><p>First, we have <i>generations</i>, which are collections of zero or more data. The data in each generation is discovered simultaneously, and therefore, it doesn't make much sense to have any ordering imposed on the generations. In fact, the lack of an ordering is essential for getting the associativity laws of the monad, and is why Spivey's paper works with bags.</p><p>Now a stream is just a lazy list of generations. We want to think of the indices into these streams as temporal indices. So the first generation in the lazy list was discovered at time 0. The second was discovered at time 1. The third was discovered at time 2. And so on.</p><p>Thinking this way helped me figure out <code>return</code> and <code>join</code>. Here, <code>return x</code> gives you the process which immediately discovers <code>x</code> and then terminates.</p><p>With <code>join xss</code>, we should interpret the <code>xss</code> as a process which discovers <i>other processes</i>. When we join them, we ask the outer process to fork each inner process as soon as it is discovered, and then merge in all the values found by the forked processes. For instance, if <code>xs</code> discovers a process <code>p</code> at time 5, and in turn, <code>p</code> discovers the string &quot;hello world!&quot; at time 13, then <code>join xs</code> discovers &quot;hello world!&quot; at time 5 + 13 = 18.</p><p>Now we can understand <code>bind</code>, realising that it is just the result of doing a <code>map</code> and then a <code>join</code>. The expression <code>bind xs f</code> forks processes <code>f</code> which depend on a discovered value <code>x</code>, and then merges back all their values.</p><p>Technically, all our streams should be infinite, and the processes should run forever, but this gave me sad performance in my theorem proving code. So for efficiency, our streams can be truncated, which represents a process that terminates.</p><p>Note that it is impossible to define a general <code>T</code>.null predicate for streams, because we would have to be able to decide whether an infinite stream of values consists entirely of the empty generation. Turing says that's impossible, and I believe him. As a crude approximation, then, we have it that <code>
T</code>.null returns <code>true</code> just for the special case that its input is an empty lazy list.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span></code></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../LazyPlus/module-type-S/index.html">LazyPlus.S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../LazyPlus/module-type-S/index.html#type-m">m</a></span> = <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="xref-unresolved">Stdlib</span>.Lazy.t</span></span></span></code></summary><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../LazyPlus/module-type-T/index.html">LazyPlus.T</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../LazyPlus/module-type-T/index.html#type-m">m</a></span> = <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="xref-unresolved">Stdlib</span>.Lazy.t</span></span></span></code></summary><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../Monad/module-type-T/index.html">Monadlib.Monad.T</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <span class="xref-unresolved">m</span></span> = <span><span><span class="type-var">'a</span> <span class="xref-unresolved">t</span></span> <span class="xref-unresolved">Stdlib</span>.Lazy.t</span></span></span></code></summary><div class="odoc-spec"><div class="spec type" id="type-m" class="anchored"><a href="#type-m" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a m</span></span><span> = <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="xref-unresolved">Stdlib</span>.Lazy.t</span></span></code></div></div></details></div><div class="odoc-spec"><div class="spec value" id="val-lplus" class="anchored"><a href="#val-lplus" class="anchor"></a><code><span><span class="keyword">val</span> lplus : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="xref-unresolved">Stdlib</span>.Lazy.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div></details></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../MonadPlus/module-type-S/index.html">MonadPlus.S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../MonadPlus/module-type-S/index.html#type-m">m</a></span> := <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></span></code></summary><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../MonadPlus/module-type-T/index.html">MonadPlus.T</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../MonadPlus/module-type-T/index.html#type-m">m</a></span> := <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></span></code></summary><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="xref-unresolved">BatInterfaces</span>.Monad <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <span class="xref-unresolved">m</span></span> := <span><span class="type-var">'a</span> <span class="xref-unresolved">m</span></span></span></span></code></summary></details></div><div class="odoc-spec"><div class="spec value" id="val-zero" class="anchored"><a href="#val-zero" class="anchor"></a><code><span><span class="keyword">val</span> zero : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>generates a neutral element with respect to <code>plus</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-plus" class="anchored"><a href="#val-plus" class="anchor"></a><code><span><span class="keyword">val</span> plus : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>add two monadic values</p></div></div><div class="odoc-spec"><div class="spec value" id="val-null" class="anchored"><a href="#val-null" class="anchor"></a><code><span><span class="keyword">val</span> null : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>null x implies that x is zero. If you do not want to or cannot answer whether a given x is zero, then null x should raise an exception. I have provided this so that streams can be implemented more efficiently.</p></div></div></details></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../Monad/module-type-S/index.html">Monad.S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../Monad/module-type-S/index.html#type-m">m</a></span> := <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></span></code></summary><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="xref-unresolved">BatInterfaces</span>.Monad <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <span class="xref-unresolved">m</span></span> := <span><span class="type-var">'a</span> <span class="xref-unresolved">m</span></span></span></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-bind" class="anchored"><a href="#val-bind" class="anchor"></a><code><span><span class="keyword">val</span> bind : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div></div></details></div><div class="odoc-spec"><div class="spec module" id="module-Ap" class="anchored"><a href="#module-Ap" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Ap/index.html">Ap</a></span><span> : <a href="../../Applicative/module-type-S/index.html">Applicative.S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../Applicative/module-type-S/index.html#type-m">m</a></span> := <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></span></code></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../Applicative/module-type-S/index.html">Applicative.S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../Applicative/module-type-S/index.html#type-m">m</a></span> := <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></span></code></summary><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../Applicative/module-type-T/index.html">Applicative.T</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../Applicative/module-type-T/index.html#type-m">m</a></span> := <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-return" class="anchored"><a href="#val-return" class="anchor"></a><code><span><span class="keyword">val</span> return : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-(&lt;*&gt;)" class="anchored"><a href="#val-(&lt;*&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;*&gt;) : <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div></div></details></div><div class="odoc-spec"><div class="spec value" id="val-map" class="anchored"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>map f x</code> applies a pure function <code>f</code> to a monadic value <code>x</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fmap" class="anchored"><a href="#val-fmap" class="anchor"></a><code><span><span class="keyword">val</span> fmap : <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>map f x</code> applies a monadic function <code>f</code> to a pure value <code>x</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-iter" class="anchored"><a href="#val-iter" class="anchor"></a><code><span><span class="keyword">val</span> iter : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>iter f x</code> applies a pure function <code>f</code> to a monadic value <code>x</code> and discards the result.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fiter" class="anchored"><a href="#val-fiter" class="anchor"></a><code><span><span class="keyword">val</span> fiter : <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>iter f x</code> applies a monadic function <code>f</code> to a pure value <code>x</code> and discards the result.</p></div></div><div class="odoc-include"><div class="odoc-spec"><div class="spec value" id="val-(&lt;@&gt;)" class="anchored"><a href="#val-(&lt;@&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;@&gt;) : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>Alias for <code>map</code>. <code>f &lt;@&gt; x</code> applies a pure function <code>f</code> to a monadic value <code>x</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(&lt;*&gt;)" class="anchored"><a href="#val-(&lt;*&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;*&gt;) : <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>f &lt;*&gt; x</code> applies a monadic function <code>f</code> to a monadic value <code>x</code>. This operator is usually used in conjunction with <code>&lt;@&gt;</code> in order to accumulate monadic parameters. Example: <code>max &lt;@&gt; return 1 &lt;*&gt; return 2</code> will yield <code>return 2</code>. Here <code>max</code> has arity 2, so we use <code>&lt;*&gt;</code> to add a second monadic parameter.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(&lt;*)" class="anchored"><a href="#val-(&lt;*)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;*) : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>x &lt;* y</code> ignores the result of <code>y</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(*&gt;)" class="anchored"><a href="#val-(*&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (*&gt;) : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>x &lt;* y</code> ignores the result of <code>x</code>.</p></div></div></div><div class="odoc-include"></div><div class="odoc-spec"><div class="spec value" id="val-ignore" class="anchored"><a href="#val-ignore" class="anchor"></a><code><span><span class="keyword">val</span> ignore : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-map2" class="anchored"><a href="#val-map2" class="anchor"></a><code><span><span class="keyword">val</span> map2 : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>map2 f x y</code> is the same as the same as <code>f &lt;@&gt; x &lt;*&gt; y</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map3" class="anchored"><a href="#val-map3" class="anchor"></a><code><span><span class="keyword">val</span> map3 : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'d</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'d</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>map3 f x y z</code> is the same as <code>f &lt;@&gt; x &lt;*&gt; y &lt;*&gt; z</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map4" class="anchored"><a href="#val-map4" class="anchor"></a><code><span><span class="keyword">val</span> map4 : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'d</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'e</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'d</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'e</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>map4 f w x y z</code> is the same as <code>f &lt;@&gt; w &lt;*&gt; x &lt;*&gt; y &lt;*&gt; z</code>.</p></div></div><h2 id="list-functions_2"><a href="#list-functions_2" class="anchor"></a>List functions</h2><div class="odoc-spec"><div class="spec value" id="val-sequence" class="anchored"><a href="#val-sequence" class="anchor"></a><code><span><span class="keyword">val</span> sequence : <span><span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sequence_unit" class="anchored"><a href="#val-sequence_unit" class="anchor"></a><code><span><span class="keyword">val</span> sequence_unit : <span><span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-m">m</a></span>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-list_map" class="anchored"><a href="#val-list_map" class="anchor"></a><code><span><span class="keyword">val</span> list_map : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> list</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>like <code>List</code>.map but for monadic functions.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-list_iter" class="anchored"><a href="#val-list_iter" class="anchor"></a><code><span><span class="keyword">val</span> list_iter : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>like <code>List</code>.iter but for monadic functions.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-list_filter" class="anchored"><a href="#val-list_filter" class="anchor"></a><code><span><span class="keyword">val</span> list_filter : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>like <code>List</code>.filter but for monadic functions.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-list_filter_map" class="anchored"><a href="#val-list_filter_map" class="anchor"></a><code><span><span class="keyword">val</span> list_filter_map : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> option</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> list</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>like <code>List</code>.filter_map but for monadic functions.</p></div></div><h2 id="option-functions_2"><a href="#option-functions_2" class="anchor"></a>Option functions</h2><div class="odoc-spec"><div class="spec value" id="val-option_map" class="anchored"><a href="#val-option_map" class="anchor"></a><code><span><span class="keyword">val</span> option_map : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> option</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>like <code>Option</code>.map but for monadic functions.</p></div></div><h2 id="boolean-function_2"><a href="#boolean-function_2" class="anchor"></a>Boolean function</h2><div class="odoc-spec"><div class="spec value" id="val-optional" class="anchored"><a href="#val-optional" class="anchor"></a><code><span><span class="keyword">val</span> optional : <span>bool <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> option</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>optional true f</code> executes <code>f</code> and applies <code>Some</code> to the result; <code>optional false f</code> returns <code>None</code>.</p></div></div><h2 id="tuple-functions_2"><a href="#tuple-functions_2" class="anchor"></a>Tuple functions</h2><div class="odoc-spec"><div class="spec value" id="val-split" class="anchored"><a href="#val-split" class="anchor"></a><code><span><span class="keyword">val</span> split : <span><span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span> * <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div></div></details></div><div class="odoc-include"><div class="odoc-spec"><div class="spec value" id="val-(&gt;&gt;=)" class="anchored"><a href="#val-(&gt;&gt;=)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;&gt;=) : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>an operator for <code>bind</code>; The monadic <code>bind</code> operator passes the result of a monadic computation to the next monadic computation.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(&gt;=&gt;)" class="anchored"><a href="#val-(&gt;=&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;=&gt;) : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>a monadic function composition; <code>f &gt;=&gt; g</code> applies <code>f</code> to some argument and then <code>g</code> to the resulting value.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(&lt;=&lt;)" class="anchored"><a href="#val-(&lt;=&lt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;=&lt;) : <span><span>(<span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>a monadic function composition; <code>g &lt;=&lt; f</code> applies <code>f</code> to some argument and then <code>g</code> to the resulting value.</p></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <a href="Ap/Infix/index.html">Ap.Infix</a></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-(&lt;@&gt;)" class="anchored"><a href="#val-(&lt;@&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;@&gt;) : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>Alias for <code>map</code>. <code>f &lt;@&gt; x</code> applies a pure function <code>f</code> to a monadic value <code>x</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(&lt;*&gt;)" class="anchored"><a href="#val-(&lt;*&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;*&gt;) : <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>f &lt;*&gt; x</code> applies a monadic function <code>f</code> to a monadic value <code>x</code>. This operator is usually used in conjunction with <code>&lt;@&gt;</code> in order to accumulate monadic parameters. Example: <code>max &lt;@&gt; return 1 &lt;*&gt; return 2</code> will yield <code>return 2</code>. Here <code>max</code> has arity 2, so we use <code>&lt;*&gt;</code> to add a second monadic parameter.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(&lt;*)" class="anchored"><a href="#val-(&lt;*)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;*) : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>x &lt;* y</code> ignores the result of <code>y</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(*&gt;)" class="anchored"><a href="#val-(*&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (*&gt;) : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>x &lt;* y</code> ignores the result of <code>x</code>.</p></div></div></details></div></div><div class="odoc-spec"><div class="spec module" id="module-Bindings" class="anchored"><a href="#module-Bindings" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Bindings/index.html">Bindings</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <a href="Bindings/index.html">Bindings</a></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-let*" class="anchored"><a href="#val-let*" class="anchor"></a><code><span><span class="keyword">val</span> let* : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>a binding operator for the monadic <code>bind</code>. <code>let* y = x in f y</code> corresponds to <code>bind x f</code>.</p></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <a href="Ap/Bindings/index.html">Ap.Bindings</a></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-let+" class="anchored"><a href="#val-let+" class="anchor"></a><code><span><span class="keyword">val</span> let+ : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>binding operator for <code>map</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-and+" class="anchored"><a href="#val-and+" class="anchor"></a><code><span><span class="keyword">val</span> and+ : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>binding operator for <code>map</code></p></div></div></details></div></details></div><div class="odoc-spec"><div class="spec value" id="val-join" class="anchored"><a href="#val-join" class="anchor"></a><code><span><span class="keyword">val</span> join : <span><span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-list_fold_left" class="anchored"><a href="#val-list_fold_left" class="anchor"></a><code><span><span class="keyword">val</span> list_fold_left : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>like <code>List.fold_left</code> but for monadic functions</p></div></div><div class="odoc-spec"><div class="spec value" id="val-list_fold_lefti" class="anchored"><a href="#val-list_fold_lefti" class="anchor"></a><code><span><span class="keyword">val</span> list_fold_lefti : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>like <code>List.fold_lefti</code> but for monadic functions</p></div></div><div class="odoc-spec"><div class="spec value" id="val-list_fold_right" class="anchored"><a href="#val-list_fold_right" class="anchor"></a><code><span><span class="keyword">val</span> list_fold_right : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>like <code>List.fold_right</code> but for monadic functions</p></div></div><div class="odoc-spec"><div class="spec value" id="val-list_fold_righti" class="anchored"><a href="#val-list_fold_righti" class="anchor"></a><code><span><span class="keyword">val</span> list_fold_righti : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>like <code>List.fold_righti</code> but for monadic functions</p></div></div></details></div><div class="odoc-spec"><div class="spec module" id="module-Infix" class="anchored"><a href="#module-Infix" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Infix/index.html">Infix</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <a href="Infix/index.html">Infix</a></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-(++)" class="anchored"><a href="#val-(++)" class="anchor"></a><code><span><span class="keyword">val</span> (++) : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-(+?)" class="anchored"><a href="#val-(+?)" class="anchor"></a><code><span><span class="keyword">val</span> (+?) : <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-include"><div class="odoc-spec"><div class="spec value" id="val-(&gt;&gt;=)" class="anchored"><a href="#val-(&gt;&gt;=)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;&gt;=) : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-(&gt;=&gt;)" class="anchored"><a href="#val-(&gt;=&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;=&gt;) : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-(&lt;=&lt;)" class="anchored"><a href="#val-(&lt;=&lt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;=&lt;) : <span><span>(<span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-(&lt;@&gt;)" class="anchored"><a href="#val-(&lt;@&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;@&gt;) : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-(&lt;*&gt;)" class="anchored"><a href="#val-(&lt;*&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;*&gt;) : <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-(&lt;*)" class="anchored"><a href="#val-(&lt;*)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;*) : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-(*&gt;)" class="anchored"><a href="#val-(*&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (*&gt;) : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div></div></div></details></div><div class="odoc-spec"><div class="spec value" id="val-catch" class="anchored"><a href="#val-catch" class="anchor"></a><code><span><span class="keyword">val</span> catch : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-filter" class="anchored"><a href="#val-filter" class="anchor"></a><code><span><span class="keyword">val</span> filter : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><h2 id="option-functions_3"><a href="#option-functions_3" class="anchor"></a>Option functions</h2><div class="odoc-spec"><div class="spec value" id="val-of_option" class="anchored"><a href="#val-of_option" class="anchor"></a><code><span><span class="keyword">val</span> of_option : <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>of_option (Some x)</code> = <code>return x</code>; <code>of_option None</code> = <code>zero ()</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-optionally" class="anchored"><a href="#val-optionally" class="anchor"></a><code><span><span class="keyword">val</span> optionally : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>optionally f (Some x)</code> executes <code>f x</code>; <code>optionally f None</code> executes <code>zero ()</code>. ATTENTION: this function overwrites <a href="../../Applicative/module-type-S/index.html#val-optionally"><code>Applicative.S.optionally</code></a> generalising its type and changing its semantics! <code>None</code> maps to <code>zero ()</code> instead of <code>return ()</code>!</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_list" class="anchored"><a href="#val-of_list" class="anchor"></a><code><span><span class="keyword">val</span> of_list : <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sum" class="anchored"><a href="#val-sum" class="anchor"></a><code><span><span class="keyword">val</span> sum : <span><span><span><span class="type-var">'a</span> list</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-msum" class="anchored"><a href="#val-msum" class="anchor"></a><code><span><span class="keyword">val</span> msum : <span><span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><h2 id="boolean-functions"><a href="#boolean-functions" class="anchor"></a>Boolean functions</h2><div class="odoc-spec"><div class="spec value" id="val-guard" class="anchored"><a href="#val-guard" class="anchor"></a><code><span><span class="keyword">val</span> guard : <span>bool <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>guard true</code> does nothing; <code>guard false</code> yields <code>zero ()).
      This can be used to render a computation conditional.
      Example: [let* () = guard (a = b) in f]
      Here [f] is only executed if [a = b]. </code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-only_if" class="anchored"><a href="#val-only_if" class="anchor"></a><code><span><span class="keyword">val</span> only_if : <span>bool <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>only_if true f</code> = <code>f ()</code>; <code>only_if false f</code> = <code>zero ()</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-conditional" class="anchored"><a href="#val-conditional" class="anchor"></a><code><span><span class="keyword">val</span> conditional : <span>bool <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>conditional true f</code> executes <code>f</code>; <code>conditional false f</code> executes <code>zero ()</code>. ATTENTION: this function overwrites <a href="../../Applicative/module-type-S/index.html#val-conditional"><code>Applicative.S.conditional</code></a> generalising its type and changing its semantics! <code>conditional false f</code> maps to <code>zero ()</code> instead of <code>return ()</code>!</p></div></div><h2 id="miscellaneous"><a href="#miscellaneous" class="anchor"></a>Miscellaneous</h2><div class="odoc-spec"><div class="spec value" id="val-transpose" class="anchored"><a href="#val-transpose" class="anchor"></a><code><span><span class="keyword">val</span> transpose : <span><span><span><span class="type-var">'a</span> list</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> list</span></span></code></div><div class="spec-doc"><p>Generalises matrix transposition. Relies on <code>null</code>.</p></div></div></details></div><div class="odoc-spec"><div class="spec value" id="val-of_llist" class="anchored"><a href="#val-of_llist" class="anchor"></a><code><span><span class="keyword">val</span> of_llist : <span><span><span class="type-var">'a</span> <a href="../../LazyList/index.html#type-t">LazyList.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-lsum" class="anchored"><a href="#val-lsum" class="anchor"></a><code><span><span class="keyword">val</span> lsum : <span><span><span><span class="type-var">'a</span> <a href="../../LazyList/index.html#type-t">LazyList.t</a></span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-lmsum" class="anchored"><a href="#val-lmsum" class="anchor"></a><code><span><span class="keyword">val</span> lmsum : <span><span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <a href="../../LazyList/index.html#type-t">LazyList.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-ltranspose" class="anchored"><a href="#val-ltranspose" class="anchor"></a><code><span><span class="keyword">val</span> ltranspose : <span><span><span><span class="type-var">'a</span> <a href="../../LazyList/index.html#type-t">LazyList.t</a></span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <a href="../../LazyList/index.html#type-t">LazyList.t</a></span></span></code></div><div class="spec-doc"><p>Generalises matrix transposition. You don't necessarily have to worry about correctly implementing <code>T</code>.null for this function, since the return value can happily be infinite.</p></div></div></details></div><div class="odoc-spec"><div class="spec value" id="val-iterate" class="anchored"><a href="#val-iterate" class="anchor"></a><code><span><span class="keyword">val</span> iterate : <span><span>(<span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>The sum of the stream <code>[f x, f (f x), f (f (f x)),...]</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-delay" class="anchored"><a href="#val-delay" class="anchor"></a><code><span><span class="keyword">val</span> delay : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>Delay a stream by one time step. This is needed when you write recursive streams and you have to avoid deadlock. The nice thing about Ocaml here is that it will generally detect deadlock for you, announcing to you that you're writing viciously circular lists!</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_depth" class="anchored"><a href="#val-to_depth" class="anchor"></a><code><span><span class="keyword">val</span> to_depth : <span>int <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>Terminate discovery at some depth.</p></div></div></div></body></html>