<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>MakeStreamC (monadlib.Monadlib.Stream.MakeStreamC)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">monadlib</a> &#x00BB; <a href="../../index.html">Monadlib</a> &#x00BB; <a href="../index.html">Stream</a> &#x00BB; MakeStreamC</nav><header class="odoc-preamble"><h1>Module <code><span>Stream.MakeStreamC</span></code></h1><p>Here, we create a stream monad from a definite collection monad <a href="../../Collection/module-type-T/index.html"><code>Collection.T</code></a>. The inner monad will be used to represent the generations in the stream. The order of elements in each generation should not matter, so you might want to use a set or a bag. If you want to live life on the edge, just remember that your code should not depend on the order of elements within generations (you can, of course, depend on the order that generations appear in the stream). You can enforce this constraint by performing, say, a sort on each generation.</p></header><nav class="odoc-toc"><ul><li><a href="#parameters">Parameters</a></li><li><a href="#signature">Signature</a></li></ul></nav><div class="odoc-content"><h2 id="parameters"><a href="#parameters" class="anchor"></a>Parameters</h2><div class="odoc-spec"><div class="spec parameter" id="argument-1-M" class="anchored"><a href="#argument-1-M" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="argument-1-M/index.html">M</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><h2 id="signature"><a href="#signature" class="anchor"></a>Signature</h2><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../module-type-StreamC/index.html">StreamC</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../module-type-StreamC/index.html#type-t">t</a></span> = <span><span><span class="type-var">'a</span> <a href="argument-1-M/index.html#type-m">M.m</a></span> <a href="../../LazyList/index.html#type-node_t">LazyList.node_t</a></span></span> <span class="keyword">and</span> <span><span class="keyword">type</span> <span>'a <a href="../module-type-StreamC/index.html#type-m">m</a></span> = <span><span><span class="type-var">'a</span> <a href="argument-1-M/index.html#type-m">M.m</a></span> <a href="../../LazyList/index.html#type-t">LazyList.t</a></span></span></span></code></summary><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../module-type-S/index.html">S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../module-type-S/index.html#type-t">t</a></span> = <span><span><span class="type-var">'a</span> <a href="argument-1-M/index.html#type-m">M.m</a></span> <a href="../../LazyList/index.html#type-node_t">LazyList.node_t</a></span></span> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../module-type-S/index.html#type-m">m</a></span> = <span><span><span class="type-var">'a</span> <a href="argument-1-M/index.html#type-m">M.m</a></span> <a href="../../LazyList/index.html#type-t">LazyList.t</a></span></span></span></code></summary><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span><span> = <span><span><span class="type-var">'a</span> <a href="argument-1-M/index.html#type-m">M.m</a></span> <a href="../../LazyList/index.html#type-node_t">LazyList.node_t</a></span></span></code></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../LazyPlus/module-type-S/index.html">LazyPlus.S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../LazyPlus/module-type-S/index.html#type-m">m</a></span> = <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="xref-unresolved">Stdlib</span>.Lazy.t</span></span> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../LazyPlus/module-type-S/index.html#type-m">m</a></span> = <span><span><span class="type-var">'a</span> <a href="argument-1-M/index.html#type-m">M.m</a></span> <a href="../../LazyList/index.html#type-t">LazyList.t</a></span></span></span></code></summary><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../LazyPlus/module-type-T/index.html">LazyPlus.T</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../LazyPlus/module-type-T/index.html#type-m">m</a></span> = <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="xref-unresolved">Stdlib</span>.Lazy.t</span></span> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../LazyPlus/module-type-T/index.html#type-m">m</a></span> = <span><span><span class="type-var">'a</span> <a href="argument-1-M/index.html#type-m">M.m</a></span> <a href="../../LazyList/index.html#type-t">LazyList.t</a></span></span></span></code></summary><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../Monad/module-type-T/index.html">Monadlib.Monad.T</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <span class="xref-unresolved">m</span></span> = <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="xref-unresolved">Stdlib</span>.Lazy.t</span></span> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <span class="xref-unresolved">m</span></span> = <span><span><span class="type-var">'a</span> <span class="xref-unresolved">M</span>.m</span> <span class="xref-unresolved">Monadlib</span>.LazyList.t</span></span></span></code></summary><div class="odoc-spec"><div class="spec type" id="type-m" class="anchored"><a href="#type-m" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a m</span></span><span> = <span><span><span class="type-var">'a</span> <a href="argument-1-M/index.html#type-m">M.m</a></span> <a href="../../LazyList/index.html#type-t">LazyList.t</a></span></span></code></div></div></details></div></details></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../MonadPlus/module-type-S/index.html">MonadPlus.S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../MonadPlus/module-type-S/index.html#type-m">m</a></span> := <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></span></code></summary><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../MonadPlus/module-type-T/index.html">MonadPlus.T</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../MonadPlus/module-type-T/index.html#type-m">m</a></span> := <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></span></code></summary><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="xref-unresolved">BatInterfaces</span>.Monad <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <span class="xref-unresolved">m</span></span> := <span><span class="type-var">'a</span> <span class="xref-unresolved">m</span></span></span></span></code></summary></details></div><div class="odoc-spec"><div class="spec value" id="val-plus" class="anchored"><a href="#val-plus" class="anchor"></a><code><span><span class="keyword">val</span> plus : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>add two monadic values</p></div></div></details></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../Monad/module-type-S/index.html">Monad.S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../Monad/module-type-S/index.html#type-m">m</a></span> := <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></span></code></summary><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="xref-unresolved">BatInterfaces</span>.Monad <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <span class="xref-unresolved">m</span></span> := <span><span class="type-var">'a</span> <span class="xref-unresolved">m</span></span></span></span></code></summary></details></div><div class="odoc-spec"><div class="spec module" id="module-Ap" class="anchored"><a href="#module-Ap" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Ap/index.html">Ap</a></span><span> : <a href="../../Applicative/module-type-S/index.html">Applicative.S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../Applicative/module-type-S/index.html#type-m">m</a></span> := <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></span></code></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../Applicative/module-type-S/index.html">Applicative.S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../Applicative/module-type-S/index.html#type-m">m</a></span> := <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></span></code></summary><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../Applicative/module-type-T/index.html">Applicative.T</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../Applicative/module-type-T/index.html#type-m">m</a></span> := <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-(&lt;*&gt;)" class="anchored"><a href="#val-(&lt;*&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;*&gt;) : <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div></div></details></div><div class="odoc-spec"><div class="spec value" id="val-map" class="anchored"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>map f x</code> applies a pure function <code>f</code> to a monadic value <code>x</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fmap" class="anchored"><a href="#val-fmap" class="anchor"></a><code><span><span class="keyword">val</span> fmap : <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>map f x</code> applies a monadic function <code>f</code> to a pure value <code>x</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-iter" class="anchored"><a href="#val-iter" class="anchor"></a><code><span><span class="keyword">val</span> iter : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>iter f x</code> applies a pure function <code>f</code> to a monadic value <code>x</code> and discards the result.</p></div></div><div class="odoc-include"><div class="odoc-spec"><div class="spec value" id="val-(&lt;@&gt;)" class="anchored"><a href="#val-(&lt;@&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;@&gt;) : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>Alias for <code>map</code>. <code>f &lt;@&gt; x</code> applies a pure function <code>f</code> to a monadic value <code>x</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(&lt;*&gt;)" class="anchored"><a href="#val-(&lt;*&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;*&gt;) : <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>f &lt;*&gt; x</code> applies a monadic function <code>f</code> to a monadic value <code>x</code>. This operator is usually used in conjunction with <code>&lt;@&gt;</code> in order to accumulate monadic parameters. Example: <code>max &lt;@&gt; return 1 &lt;*&gt; return 2</code> will yield <code>return 2</code>. Here <code>max</code> has arity 2, so we use <code>&lt;*&gt;</code> to add a second monadic parameter.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(&lt;*)" class="anchored"><a href="#val-(&lt;*)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;*) : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>x &lt;* y</code> ignores the result of <code>y</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(*&gt;)" class="anchored"><a href="#val-(*&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (*&gt;) : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>x &lt;* y</code> ignores the result of <code>x</code>.</p></div></div></div><div class="odoc-include"></div><div class="odoc-spec"><div class="spec value" id="val-ignore" class="anchored"><a href="#val-ignore" class="anchor"></a><code><span><span class="keyword">val</span> ignore : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-map2" class="anchored"><a href="#val-map2" class="anchor"></a><code><span><span class="keyword">val</span> map2 : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>map2 f x y</code> is the same as the same as <code>f &lt;@&gt; x &lt;*&gt; y</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map3" class="anchored"><a href="#val-map3" class="anchor"></a><code><span><span class="keyword">val</span> map3 : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'d</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'d</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>map3 f x y z</code> is the same as <code>f &lt;@&gt; x &lt;*&gt; y &lt;*&gt; z</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map4" class="anchored"><a href="#val-map4" class="anchor"></a><code><span><span class="keyword">val</span> map4 : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'d</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'e</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'d</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'e</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>map4 f w x y z</code> is the same as <code>f &lt;@&gt; w &lt;*&gt; x &lt;*&gt; y &lt;*&gt; z</code>.</p></div></div><h2 id="list-functions_2"><a href="#list-functions_2" class="anchor"></a>List functions</h2><div class="odoc-spec"><div class="spec value" id="val-sequence" class="anchored"><a href="#val-sequence" class="anchor"></a><code><span><span class="keyword">val</span> sequence : <span><span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sequence_unit" class="anchored"><a href="#val-sequence_unit" class="anchor"></a><code><span><span class="keyword">val</span> sequence_unit : <span><span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-m">m</a></span>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-list_map" class="anchored"><a href="#val-list_map" class="anchor"></a><code><span><span class="keyword">val</span> list_map : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> list</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>like <code>List</code>.map but for monadic functions.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-list_iter" class="anchored"><a href="#val-list_iter" class="anchor"></a><code><span><span class="keyword">val</span> list_iter : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>like <code>List</code>.iter but for monadic functions.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-list_filter" class="anchored"><a href="#val-list_filter" class="anchor"></a><code><span><span class="keyword">val</span> list_filter : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>like <code>List</code>.filter but for monadic functions.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-list_filter_map" class="anchored"><a href="#val-list_filter_map" class="anchor"></a><code><span><span class="keyword">val</span> list_filter_map : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> option</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> list</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>like <code>List</code>.filter_map but for monadic functions.</p></div></div><h2 id="option-functions_2"><a href="#option-functions_2" class="anchor"></a>Option functions</h2><div class="odoc-spec"><div class="spec value" id="val-option_map" class="anchored"><a href="#val-option_map" class="anchor"></a><code><span><span class="keyword">val</span> option_map : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> option</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>like <code>Option</code>.map but for monadic functions.</p></div></div><h2 id="boolean-function_2"><a href="#boolean-function_2" class="anchor"></a>Boolean function</h2><div class="odoc-spec"><div class="spec value" id="val-optional" class="anchored"><a href="#val-optional" class="anchor"></a><code><span><span class="keyword">val</span> optional : <span>bool <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> option</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>optional true f</code> executes <code>f</code> and applies <code>Some</code> to the result; <code>optional false f</code> returns <code>None</code>.</p></div></div><h2 id="tuple-functions_2"><a href="#tuple-functions_2" class="anchor"></a>Tuple functions</h2><div class="odoc-spec"><div class="spec value" id="val-split" class="anchored"><a href="#val-split" class="anchor"></a><code><span><span class="keyword">val</span> split : <span><span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span> * <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div></div></details></div><div class="odoc-include"><div class="odoc-spec"><div class="spec value" id="val-(&gt;&gt;=)" class="anchored"><a href="#val-(&gt;&gt;=)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;&gt;=) : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>an operator for <code>bind</code>; The monadic <code>bind</code> operator passes the result of a monadic computation to the next monadic computation.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(&gt;=&gt;)" class="anchored"><a href="#val-(&gt;=&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;=&gt;) : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>a monadic function composition; <code>f &gt;=&gt; g</code> applies <code>f</code> to some argument and then <code>g</code> to the resulting value.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(&lt;=&lt;)" class="anchored"><a href="#val-(&lt;=&lt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;=&lt;) : <span><span>(<span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>a monadic function composition; <code>g &lt;=&lt; f</code> applies <code>f</code> to some argument and then <code>g</code> to the resulting value.</p></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <a href="Ap/Infix/index.html">Ap.Infix</a></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-(&lt;@&gt;)" class="anchored"><a href="#val-(&lt;@&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;@&gt;) : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>Alias for <code>map</code>. <code>f &lt;@&gt; x</code> applies a pure function <code>f</code> to a monadic value <code>x</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(&lt;*&gt;)" class="anchored"><a href="#val-(&lt;*&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;*&gt;) : <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>f &lt;*&gt; x</code> applies a monadic function <code>f</code> to a monadic value <code>x</code>. This operator is usually used in conjunction with <code>&lt;@&gt;</code> in order to accumulate monadic parameters. Example: <code>max &lt;@&gt; return 1 &lt;*&gt; return 2</code> will yield <code>return 2</code>. Here <code>max</code> has arity 2, so we use <code>&lt;*&gt;</code> to add a second monadic parameter.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(&lt;*)" class="anchored"><a href="#val-(&lt;*)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;*) : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>x &lt;* y</code> ignores the result of <code>y</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(*&gt;)" class="anchored"><a href="#val-(*&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (*&gt;) : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>x &lt;* y</code> ignores the result of <code>x</code>.</p></div></div></details></div></div><div class="odoc-spec"><div class="spec module" id="module-Bindings" class="anchored"><a href="#module-Bindings" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Bindings/index.html">Bindings</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <a href="Bindings/index.html">Bindings</a></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-let*" class="anchored"><a href="#val-let*" class="anchor"></a><code><span><span class="keyword">val</span> let* : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>a binding operator for the monadic <code>bind</code>. <code>let* y = x in f y</code> corresponds to <code>bind x f</code>.</p></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <a href="Ap/Bindings/index.html">Ap.Bindings</a></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-let+" class="anchored"><a href="#val-let+" class="anchor"></a><code><span><span class="keyword">val</span> let+ : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>binding operator for <code>map</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-and+" class="anchored"><a href="#val-and+" class="anchor"></a><code><span><span class="keyword">val</span> and+ : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>binding operator for <code>map</code></p></div></div></details></div></details></div><div class="odoc-spec"><div class="spec value" id="val-join" class="anchored"><a href="#val-join" class="anchor"></a><code><span><span class="keyword">val</span> join : <span><span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-list_fold_left" class="anchored"><a href="#val-list_fold_left" class="anchor"></a><code><span><span class="keyword">val</span> list_fold_left : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>like <code>List.fold_left</code> but for monadic functions</p></div></div><div class="odoc-spec"><div class="spec value" id="val-list_fold_lefti" class="anchored"><a href="#val-list_fold_lefti" class="anchor"></a><code><span><span class="keyword">val</span> list_fold_lefti : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>like <code>List.fold_lefti</code> but for monadic functions</p></div></div><div class="odoc-spec"><div class="spec value" id="val-list_fold_right" class="anchored"><a href="#val-list_fold_right" class="anchor"></a><code><span><span class="keyword">val</span> list_fold_right : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>like <code>List.fold_right</code> but for monadic functions</p></div></div><div class="odoc-spec"><div class="spec value" id="val-list_fold_righti" class="anchored"><a href="#val-list_fold_righti" class="anchor"></a><code><span><span class="keyword">val</span> list_fold_righti : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>like <code>List.fold_righti</code> but for monadic functions</p></div></div></details></div><div class="odoc-spec"><div class="spec module" id="module-Infix" class="anchored"><a href="#module-Infix" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Infix/index.html">Infix</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <a href="Infix/index.html">Infix</a></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-(++)" class="anchored"><a href="#val-(++)" class="anchor"></a><code><span><span class="keyword">val</span> (++) : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-(+?)" class="anchored"><a href="#val-(+?)" class="anchor"></a><code><span><span class="keyword">val</span> (+?) : <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-include"><div class="odoc-spec"><div class="spec value" id="val-(&gt;&gt;=)" class="anchored"><a href="#val-(&gt;&gt;=)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;&gt;=) : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-(&gt;=&gt;)" class="anchored"><a href="#val-(&gt;=&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;=&gt;) : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-(&lt;=&lt;)" class="anchored"><a href="#val-(&lt;=&lt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;=&lt;) : <span><span>(<span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-(&lt;@&gt;)" class="anchored"><a href="#val-(&lt;@&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;@&gt;) : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-(&lt;*&gt;)" class="anchored"><a href="#val-(&lt;*&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;*&gt;) : <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-(&lt;*)" class="anchored"><a href="#val-(&lt;*)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;*) : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-(*&gt;)" class="anchored"><a href="#val-(*&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (*&gt;) : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div></div></div></details></div><div class="odoc-spec"><div class="spec value" id="val-catch" class="anchored"><a href="#val-catch" class="anchor"></a><code><span><span class="keyword">val</span> catch : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-filter" class="anchored"><a href="#val-filter" class="anchor"></a><code><span><span class="keyword">val</span> filter : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><h2 id="option-functions_3"><a href="#option-functions_3" class="anchor"></a>Option functions</h2><div class="odoc-spec"><div class="spec value" id="val-of_option" class="anchored"><a href="#val-of_option" class="anchor"></a><code><span><span class="keyword">val</span> of_option : <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>of_option (Some x)</code> = <code>return x</code>; <code>of_option None</code> = <code>zero ()</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-optionally" class="anchored"><a href="#val-optionally" class="anchor"></a><code><span><span class="keyword">val</span> optionally : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>optionally f (Some x)</code> executes <code>f x</code>; <code>optionally f None</code> executes <code>zero ()</code>. ATTENTION: this function overwrites <a href="../../Applicative/module-type-S/index.html#val-optionally"><code>Applicative.S.optionally</code></a> generalising its type and changing its semantics! <code>None</code> maps to <code>zero ()</code> instead of <code>return ()</code>!</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_list" class="anchored"><a href="#val-of_list" class="anchor"></a><code><span><span class="keyword">val</span> of_list : <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sum" class="anchored"><a href="#val-sum" class="anchor"></a><code><span><span class="keyword">val</span> sum : <span><span><span><span class="type-var">'a</span> list</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-msum" class="anchored"><a href="#val-msum" class="anchor"></a><code><span><span class="keyword">val</span> msum : <span><span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><h2 id="boolean-functions"><a href="#boolean-functions" class="anchor"></a>Boolean functions</h2><div class="odoc-spec"><div class="spec value" id="val-guard" class="anchored"><a href="#val-guard" class="anchor"></a><code><span><span class="keyword">val</span> guard : <span>bool <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>guard true</code> does nothing; <code>guard false</code> yields <code>zero ()).
      This can be used to render a computation conditional.
      Example: [let* () = guard (a = b) in f]
      Here [f] is only executed if [a = b]. </code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-only_if" class="anchored"><a href="#val-only_if" class="anchor"></a><code><span><span class="keyword">val</span> only_if : <span>bool <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>only_if true f</code> = <code>f ()</code>; <code>only_if false f</code> = <code>zero ()</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-conditional" class="anchored"><a href="#val-conditional" class="anchor"></a><code><span><span class="keyword">val</span> conditional : <span>bool <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>conditional true f</code> executes <code>f</code>; <code>conditional false f</code> executes <code>zero ()</code>. ATTENTION: this function overwrites <a href="../../Applicative/module-type-S/index.html#val-conditional"><code>Applicative.S.conditional</code></a> generalising its type and changing its semantics! <code>conditional false f</code> maps to <code>zero ()</code> instead of <code>return ()</code>!</p></div></div><h2 id="miscellaneous"><a href="#miscellaneous" class="anchor"></a>Miscellaneous</h2><div class="odoc-spec"><div class="spec value" id="val-transpose" class="anchored"><a href="#val-transpose" class="anchor"></a><code><span><span class="keyword">val</span> transpose : <span><span><span><span class="type-var">'a</span> list</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> list</span></span></code></div><div class="spec-doc"><p>Generalises matrix transposition. Relies on <code>null</code>.</p></div></div></details></div><div class="odoc-spec"><div class="spec value" id="val-of_llist" class="anchored"><a href="#val-of_llist" class="anchor"></a><code><span><span class="keyword">val</span> of_llist : <span><span><span class="type-var">'a</span> <a href="../../LazyList/index.html#type-t">LazyList.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-lsum" class="anchored"><a href="#val-lsum" class="anchor"></a><code><span><span class="keyword">val</span> lsum : <span><span><span><span class="type-var">'a</span> <a href="../../LazyList/index.html#type-t">LazyList.t</a></span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-lmsum" class="anchored"><a href="#val-lmsum" class="anchor"></a><code><span><span class="keyword">val</span> lmsum : <span><span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <a href="../../LazyList/index.html#type-t">LazyList.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-ltranspose" class="anchored"><a href="#val-ltranspose" class="anchor"></a><code><span><span class="keyword">val</span> ltranspose : <span><span><span><span class="type-var">'a</span> <a href="../../LazyList/index.html#type-t">LazyList.t</a></span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <a href="../../LazyList/index.html#type-t">LazyList.t</a></span></span></code></div><div class="spec-doc"><p>Generalises matrix transposition. You don't necessarily have to worry about correctly implementing <code>T</code>.null for this function, since the return value can happily be infinite.</p></div></div></details></div><div class="odoc-spec"><div class="spec value" id="val-iterate" class="anchored"><a href="#val-iterate" class="anchor"></a><code><span><span class="keyword">val</span> iterate : <span><span>(<span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>The sum of the stream <code>[f x, f (f x), f (f (f x)),...]</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-delay" class="anchored"><a href="#val-delay" class="anchor"></a><code><span><span class="keyword">val</span> delay : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>Delay a stream by one time step. This is needed when you write recursive streams and you have to avoid deadlock. The nice thing about Ocaml here is that it will generally detect deadlock for you, announcing to you that you're writing viciously circular lists!</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_depth" class="anchored"><a href="#val-to_depth" class="anchor"></a><code><span><span class="keyword">val</span> to_depth : <span>int <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p>Terminate discovery at some depth.</p></div></div></details></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../Collection/module-type-T/index.html">Collection.T</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../Collection/module-type-T/index.html#type-m">m</a></span> := <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></span></code></summary><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../LazyPlus/module-type-T/index.html">LazyPlus.T</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../LazyPlus/module-type-T/index.html#type-m">m</a></span> := <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></span></code></summary><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../Monad/module-type-T/index.html">Monadlib.Monad.T</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <span class="xref-unresolved">m</span></span> := <span><span class="type-var">'a</span> <span class="xref-unresolved">m</span></span></span></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-bind" class="anchored"><a href="#val-bind" class="anchor"></a><code><span><span class="keyword">val</span> bind : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-return" class="anchored"><a href="#val-return" class="anchor"></a><code><span><span class="keyword">val</span> return : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div></details></div><div class="odoc-spec"><div class="spec value" id="val-zero" class="anchored"><a href="#val-zero" class="anchor"></a><code><span><span class="keyword">val</span> zero : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-lplus" class="anchored"><a href="#val-lplus" class="anchor"></a><code><span><span class="keyword">val</span> lplus : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="xref-unresolved">Stdlib</span>.Lazy.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-null" class="anchored"><a href="#val-null" class="anchor"></a><code><span><span class="keyword">val</span> null : <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>null x implies that x is zero. If you do not want to or cannot answer whether a given x is zero, then null x should be false.</p></div></div></details></div><div class="odoc-spec"><div class="spec value" id="val-difference" class="anchored"><a href="#val-difference" class="anchor"></a><code><span><span class="keyword">val</span> difference : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>difference p xs ys</code> removes all elements from <code>xs</code> which are less than or equal to some element in <code>ys</code>, according to the partial order <code>p</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-unique" class="anchored"><a href="#val-unique" class="anchor"></a><code><span><span class="keyword">val</span> unique : <span>?cmp:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>unique eq xs</code> removes duplicates according to the function <code>cmp</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-maxima" class="anchored"><a href="#val-maxima" class="anchor"></a><code><span><span class="keyword">val</span> maxima : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>maxima p xs</code> leaves only the maximal elements according to the partial order <code>p</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-nub" class="anchored"><a href="#val-nub" class="anchor"></a><code><span><span class="keyword">val</span> nub : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-m">m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-m">m</a></span></span></code></div><div class="spec-doc"><p><code>nub p xs ys</code> is the same as maxima, but some values might be treated as greater than others depending on their position in the collection.</p><p>For instance, with lists, we treat elements that occur earlier in the list as always greater than elements that occur later, otherwise we use <code>p</code>. This is really just an optimisation: in order to retrieve any value from <code>maxima p
  xs</code>, the <code>maxima</code> function will have had to seen every value. Not so with <code>nub</code>.</p></div></div></details></div></details></div></div></body></html>